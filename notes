useradd -m -s /bin/bash test -u 6666
usermod -aG docker test
docker build -t kilpio/jenkins_dockerized .
echo "UID_GID=$(id -u):$(id -g)" >> ./.env

docker run -u $(id -u):$(id -g) -v "$(pwd)/jenkins_home":'/var/jenkins_home' -it --entrypoint="/var/jenkins_home/make_pks.sh" kilpio/jenkins_dockerized
source .env && docker run -u ${UID_GID} -v "$(pwd)/jenkins_home":'/var/jenkins_home' -it --entrypoint="/var/jenkins_home/make_pks.sh" kilpio/jenkins_dockerized "${KEYSTORE_PASS}"


Prerequisistes for jenkins in docker installation 

1. User must be in sudoers group:
ask admin to add: (usermod -aG sudo <username>)

2. As username add yourself to docker goup:

```bash
sudo usermod -aG docker ${USER}
exit
```
and login again.

3. Clone the jenkins_dockerized repo:

```bash
git clone https://github.com/kilpio/jenkins_dockerized
cd jenkins_dockerized
```

4. Add your users uid:guid to the .env config file:

```bash
echo "UID_GID=$(id -u):$(id -g)" >> ./.env
```

Run 
```bash
cat .env
```
to be sure you uid:git were added properly.

5. Mind the KEYSTORE_PASS variable in the .env file. It is the password for the Jenkins keystore that will be crerated later when switching Jenkins fro http to https.
You may leave it as it is or change in the .env file to anything else.

6. push the kilpio/jenkins_dockerized:latest image or build it locally:

```bash
docker build -t kilpio/jenkins_dockerized .
```